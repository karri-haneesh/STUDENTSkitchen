<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student's Kitchen</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: #1a0f0a;
    color: white;
  }
  /* Splash Screen */
  .splash {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092') center/cover no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeOut 2s ease 3.5s forwards;
  }
  .splash img {
    width: 320px;
    animation: zoomIn 2s ease;
  }
  @keyframes zoomIn {
    from { transform: scale(0.1); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  @keyframes fadeOut {
    to { opacity: 0; visibility: hidden; }
  }

  /* Cart icon */
  .cart {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #ff6347;
    padding: 10px 15px;
    border-radius: 25px;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
  }
  .cart span {
    font-weight: bold;
  }

  .main {
    padding: 20px;
    display: none;
  }
  h1 { text-align: center; }

  .menu {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
  }
  .item {
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 15px;
    width: 260px;
    transition: transform 0.3s ease;
    text-align: center;
  }
  .item:hover { transform: scale(1.05); }
  .item img { width: 100%; border-radius: 10px; }
  .price { font-size: 18px; color: #ffd700; margin: 8px 0; }
  .add-btn {
    background: #ff6347;
    border: none;
    padding: 10px;
    color: white;
    cursor: pointer;
    border-radius: 8px;
    font-size: 14px;
  }

  /* Checkout form */
  .checkout {
    display: none;
    background: rgba(0,0,0,0.8);
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    align-items: center;
    justify-content: center;
  }
  .form-box {
    background: white;
    color: black;
    padding: 20px;
    border-radius: 10px;
    width: 300px;
  }
  .form-box input {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
  }
  .form-box button {
    width: 100%;
    padding: 10px;
    background: #ff6347;
    border: none;
    color: white;
    cursor: pointer;
  }
</style>
</head>
<body>

<!-- Splash screen -->
<div class="splash">
  <img src="https://image2url.com/images/1755249384627-d474ead1-23de-4f1c-9e5f-ab70833db80a.jpg" alt="Logo">
</div>

<!-- Cart -->
<div class="cart" onclick="openCheckout()">
  üõí <span id="cartCount">0</span>
</div>

<!-- Main menu -->
<div class="main">
  <h1>Welcome to Student's Kitchen</h1>
  <p id="location"></p>
  <div class="menu">
    <div class="item">
      <img src="https://image2url.com/images/1755249415834-1cbd0472-bfd2-4085-9be4-281c6e078d0b.jpg" alt="Biryani">
      <h3>Chicken Biryani</h3>
      <div class="price">‚Çπ150</div>
      <button class="add-btn" onclick="addToCart('Chicken Biryani',150)">Add to Cart</button>
    </div>
    <div class="item">
      <img src="https://image2url.com/images/1755249438471-414138f3-1131-4244-856d-fe2ca6e29292.jpg" alt="Fried Rice">
      <h3>Chicken Fried Rice</h3>
      <div class="price">‚Çπ120</div>
      <button class="add-btn" onclick="addToCart('Chicken Fried Rice',120)">Add to Cart</button>
    </div>
  </div>
</div>

<!-- Checkout form -->
<div class="checkout" id="checkoutForm">
  <div class="form-box">
    <h3>Checkout</h3>
    <input type="text" id="name" placeholder="Your Name" required>
    <input type="tel" id="phone" placeholder="Phone Number" required>
    <div id="orderSummary"></div>
    <button onclick="payNow()">Pay Now</button>
  </div>
</div>

<!-- Razorpay -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
  let cart = [];
  
  function addToCart(name, price) {
    cart.push({name, price});
    document.getElementById('cartCount').innerText = cart.length;
  }

  function openCheckout() {
    if (cart.length === 0) { alert("Cart is empty!"); return; }
    document.getElementById('checkoutForm').style.display = 'flex';
    let summary = "<h4>Order Summary</h4>";
    let total = 0;
    cart.forEach(item => {
      summary += `${item.name} - ‚Çπ${item.price}<br>`;
      total += item.price;
    });
    summary += `<b>Total: ‚Çπ${total}</b>`;
    document.getElementById('orderSummary').innerHTML = summary;
  }

  function payNow() {
    let name = document.getElementById('name').value;
    let phone = document.getElementById('phone').value;
    if (!name || !phone) { alert("Please fill all details"); return; }

    let total = cart.reduce((sum, item) => sum + item.price, 0);
    let options = {
      "key": "YOUR_RAZORPAY_KEY_ID",
      "amount": total * 100,
      "currency": "INR",
      "name": "Student's Kitchen",
      "description": "Food Order Payment",
      "handler": function (response){
          alert("Payment Successful! ID: " + response.razorpay_payment_id);
          cart = [];
          document.getElementById('cartCount').innerText = 0;
          document.getElementById('checkoutForm').style.display = 'none';
      },
      "prefill": {
          "name": name,
          "contact": phone
      },
      "theme": {
          "color": "#ff6347"
      }
    };
    let rzp1 = new Razorpay(options);
    rzp1.open();
  }

  window.addEventListener("load", () => {
    setTimeout(() => {
      document.querySelector(".splash").style.display = "none";
      document.querySelector(".main").style.display = "block";
    }, 4000);

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(pos => {
        document.getElementById('location').innerText = 
          `üìç Your Location: Lat ${pos.coords.latitude.toFixed(4)}, Lon ${pos.coords.longitude.toFixed(4)}`;
      });
    }
  });
</script>

</body>
</html>
